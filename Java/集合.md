# HashMap
## HashMap为什么不安全
[详情](https://mp.weixin.qq.com/s/VtIpj-uuxFj5Bf6TmTJMTw)
### jdk1.7中的HashMap
#### 1. 扩容造成死循环
![img](../img/hashmapresize.png)
![img](../img/resize1.png)
![img](../img/resize2.png)
![img](../img/resize3.png)
![img](../img/resize4.png)
在后续操作中只要涉及轮询hashmap的数据结构，就会在这里发生死循环，造成悲剧。

#### 2. 扩容造成数据丢失
跟前文提到的几乎一样
也是同一操作造成的问题。 
![img](../img/resize5.png)

### jdk1.8中的HashMap
在jdk1.8中对HashMap进行了优化，在发生hash碰撞，不再采用头插法方式，而是直接插入链表尾部，因此不会出现环形链表的情况，但是在多线程的情况下仍然不安全。
#### put操作时会发生数据覆盖
